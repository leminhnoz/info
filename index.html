<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Hello world !</title>
<style>
body{
  margin:0;
  padding:0;
  height:100vh;
  overflow:hidden;
  background:#0f1724;
  color:#e6eef8;
  font-family:sans-serif;
  cursor:none;
}

/* Slides */
#slidesWrapper{
  width:400vw;
  height:100vh;
  display:flex;
  transition:transform 1s ease;
}

.slide {
  width:100vw;
  height:100vh;
  position:relative;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}

/* Canvas */
canvas{
  position:absolute;
  top:0; left:0;
  z-index:0;
}

/* Intro text */
#textContainer{
  position:relative;
  z-index:10;
  display:flex;
  flex-direction:column;
  align-items:center;
}
.line{
  font-size:24px;
  margin:5px 0;
  white-space:pre;
  opacity:0;
  transition: opacity 1s;
}

/* Buttons */
button{
  background:rgba(96,165,250,0.6);
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-weight:bold;
  transition:background 0.3s;
}
button:hover{
  background:rgba(96,165,250,0.85);
}

/* Back/Next */
#backBtn, #nextBtn{
  position:absolute;
  top:20px;
  padding:10px 20px;
  z-index:10;
  opacity:1;
}
#backBtn{ left:20px; }
#nextBtn{ right:20px; }

/* Quotes */
.quoteBox{
  position:relative;
  z-index:10;
  width:70%;
  text-align:center;
}
.quoteText{
  font-size:22px;
  margin:15px 0;
}
.quoteAuthor{
  font-weight:bold;
}
</style>
</head>
<body>

<div id="slidesWrapper">

  <!-- SLIDE 1 INTRO -->
  <div class="slide" id="slide1">
    <canvas id="canvas"></canvas>
    <div id="textContainer">
        <div class="line" id="line1"></div>
        <div class="line" id="line2"></div>
    </div>
    <button id="nextBtn">Next</button>
  </div>

  <!-- SLIDE 2 QUOTES -->
  <div class="slide" id="slide2">
    <canvas id="canvas2"></canvas>
    <button id="backBtn">Back</button>
    <div class="quoteBox" id="quoteBox2"></div>
    <button id="nextBtn2" style="position:absolute; top:20px; right:20px;">Next</button>
  </div>

  <!-- SLIDE 3 QUOTES -->
  <div class="slide" id="slide3">
    <canvas id="canvas3"></canvas>
    <button id="backBtn3">Back</button>
    <div class="quoteBox" id="quoteBox3"></div>
    <button id="nextBtn3" style="position:absolute; top:20px; right:20px;">Next</button>
  </div>

  <!-- SLIDE 4 QUOTES -->
  <div class="slide" id="slide4">
    <canvas id="canvas4"></canvas>
    <button id="backBtn4">Back</button>
    <div class="quoteBox" id="quoteBox4"></div>
  </div>

</div>

<audio id="keySound" src="https://www.soundjay.com/button/sounds/button-16.mp3"></audio>

<script>
/* =========================================================
   ðŸŽ¯ CANVAS ANIMATION + CURSOR TRAIL + GLOW
========================================================= */
function initCanvas(canvas){
  const ctx = canvas.getContext('2d');
  let cw = canvas.width = window.innerWidth;
  let ch = canvas.height = window.innerHeight;

  const cursor = {x:cw/2, y:ch/2};
  const trailCount = 25;
  const trails = [];
  for(let i=0;i<trailCount;i++) trails.push({x:cursor.x,y:cursor.y});

  const rainLetters=[];

  function spawnLetter(){
    const l={
      x: Math.random()*cw,
      y: -20,
      speed: 1+Math.random()*3,
      char: String.fromCharCode(33+Math.floor(Math.random()*94)),
      fontSize: 10+Math.random()*20,
      opacity: 0.4+Math.random()*0.4
    };
    rainLetters.push(l);
  }
  setInterval(spawnLetter,50);

  document.addEventListener('mousemove', e=>{
    cursor.x=e.clientX;
    cursor.y=e.clientY;
  });

  function animate(){
    ctx.clearRect(0,0,cw,ch);

    // Rain letters
    for(let i=rainLetters.length-1;i>=0;i--){
      const l=rainLetters[i];
      l.y+=l.speed;
      ctx.globalAlpha=l.opacity;
      ctx.font=`${l.fontSize}px monospace`;
      ctx.fillStyle="#60a5fa";
      ctx.fillText(l.char,l.x,l.y);
      if(l.y>ch) rainLetters.splice(i,1);
    }

    // Cursor trail
    for(let i=trails.length-1;i>=0;i--){
      const t=trails[i];
      t.x += (i===0?cursor.x:trails[i-1].x-t.x)*0.2;
      t.y += (i===0?cursor.y:trails[i-1].y-t.y)*0.2;
      ctx.strokeStyle=`rgba(96,165,250,${(trailCount-i)/trailCount})`;
      ctx.lineWidth=2;
      ctx.beginPath();
      if(i>0){
        ctx.moveTo(trails[i-1].x,trails[i-1].y);
        ctx.lineTo(t.x,t.y);
        ctx.stroke();
      }
    }

    // Cursor {}
    ctx.fillStyle="rgba(96,165,250,0.9)";
    ctx.font="24px monospace";
    ctx.fillText("{}", cursor.x-8, cursor.y+8);

    requestAnimationFrame(animate);
  }
  animate();

  window.addEventListener('resize', ()=>{
    cw = canvas.width = window.innerWidth;
    ch = canvas.height = window.innerHeight;
  });
}

initCanvas(document.getElementById("canvas"));
initCanvas(document.getElementById("canvas2"));
initCanvas(document.getElementById("canvas3"));
initCanvas(document.getElementById("canvas4"));

/* =========================================================
   ðŸŽ¯ TYPEWRITER INTRO
========================================================= */
const line1=document.getElementById('line1');
const line2=document.getElementById('line2');
const keySound=document.getElementById('keySound');
const text1="Hi ! My full name is Nguyen Duc Le Minh , and u ?";
const text2Prefix="My age: ";
const TYPE_SPEED=50;

function playKey(){ keySound.currentTime=0; keySound.play().catch(()=>{}); }

async function typeText(element,text){
  element.style.opacity=1;
  for(let i=0;i<=text.length;i++){
    element.textContent=text.slice(0,i);
    playKey();
    await new Promise(r=>setTimeout(r,TYPE_SPEED));
  }
}

async function deleteText(element){
  for(let i=element.textContent.length;i>=0;i--){
    element.textContent=element.textContent.slice(0,i);
    await new Promise(r=>setTimeout(r,TYPE_SPEED/2));
  }
}

// Age counter
const origin=new Date(2011,1,2,0,0,0,0);
function pad(n,len=2){return String(n).padStart(len,'0');}
function computeAgeComponents(start, now){
  let years=0, months=0;
  let cursorDate=new Date(start);
  while(new Date(cursorDate.getFullYear()+1,cursorDate.getMonth(),cursorDate.getDate())<=now){
    cursorDate.setFullYear(cursorDate.getFullYear()+1); years++;
  }
  while(new Date(cursorDate.getFullYear(),cursorDate.getMonth()+1,cursorDate.getDate())<=now){
    cursorDate.setMonth(cursorDate.getMonth()+1); months++;
  }
  let remaining=now-cursorDate;
  const ms=remaining%1000;
  remaining=Math.floor(remaining/1000);
  const seconds=remaining%60;
  remaining=Math.floor(remaining/60);
  const minutes=remaining%60;
  remaining=Math.floor(remaining/60);
  const hours=remaining%24;
  const days=Math.floor((now-new Date(cursorDate.getFullYear(),cursorDate.getMonth(),cursorDate.getDate()))/(24*3600*1000));
  return {years,months,days,hours,minutes,seconds,ms};
}

function formatAge(){
  const now=new Date();
  const c=computeAgeComponents(origin,now);
  return `${c.years}y ${c.months}m ${c.days}d ${c.hours}:${pad(c.minutes)}:${pad(c.seconds)}.${String(c.ms).padStart(3,'0')}`;
}

async function loop(){
  while(true){
    await typeText(line1,text1);
    await typeText(line2,text2Prefix+formatAge());
    document.querySelector("#nextBtn").style.opacity=1;
    await new Promise(r=>setTimeout(r,5000));
    document.querySelector("#nextBtn").style.opacity=0;
    await deleteText(line1);
    await deleteText(line2);
    await new Promise(r=>setTimeout(r,1000));
  }
}
loop();
setInterval(()=>{line2.textContent=text2Prefix+formatAge();},50);

/* =========================================================
   ðŸŽ¯ QUOTES DATA
========================================================= */
const quotes = {
  slide2:[
    {text:"Há»c thuáº­t toÃ¡n phá»©c táº¡p lÃ m gÃ¬ khi ta chÆ°a náº¯m Ä‘Æ°á»£c cÆ¡ báº£n.", author:"tourist", rating:"legendary"},
    {text:"Äá»«ng ngáº¡i thá»­ thÃ¡ch, sai láº§m lÃ  cÃ¡ch duy nháº¥t Ä‘á»ƒ há»c.", author:"Benq", rating:"international"},
    {text:"Äá»c code cá»§a ngÆ°á»i khÃ¡c lÃ  cÃ¡ch nhanh nháº¥t Ä‘á»ƒ tiáº¿n bá»™.", author:"Petr", rating:"international"}
  ],
  slide3:[
    {text:"Giáº£i bÃ i khÃ³ khÃ´ng pháº£i Ä‘á»ƒ khoe, mÃ  Ä‘á»ƒ há»c cÃ¡ch tÆ° duy.", author:"radewoosh", rating:"international"},
    {text:"Tham gia contest Ä‘á»u Ä‘áº·n giÃºp báº¡n tiáº¿n bá»™ hÆ¡n lÃ  há»c lÃ½ thuyáº¿t.", author:"maroonrk", rating:"expert"},
    {text:"Code Ä‘áº¹p khÃ´ng báº±ng code hiá»‡u quáº£.", author:"Um_nik", rating:"international"}
  ],
  slide4:[
    {text:"Há»c thuáº­t toÃ¡n lÃ  cÃ¡ch Ä‘á»ƒ rÃ¨n luyá»‡n tÆ° duy logic.", author:"ecnerwala", rating:"international"},
    {text:"Äá»«ng cháº¡y theo Ä‘iá»ƒm sá»‘, hÃ£y cháº¡y theo kiáº¿n thá»©c.", author:"KrK", rating:"grandmaster"},
    {text:"LuÃ´n thá»­ thÃ¡ch báº£n thÃ¢n Ä‘á»ƒ phÃ¡t triá»ƒn.", author:"tourist", rating:"legendary"}
  ]
};

function getColor(rating){
  switch(rating){
    case "legendary": return "red";
    case "international": return "orange";
    case "grandmaster": return "purple";
    case "expert": return "blue";
    default: return "white";
  }
}

function renderQuotes(slideId, boxId){
  const box=document.getElementById(boxId);
  box.innerHTML="";
  quotes[slideId].forEach(q=>{
    const div=document.createElement("div");
    div.className="quoteText";
    const authorColor=getColor(q.rating);
    div.innerHTML=`"${q.text}" - <span class="quoteAuthor" style="color:${authorColor}">${q.author}</span>`;
    box.appendChild(div);
  });
}

renderQuotes("slide2","quoteBox2");
renderQuotes("slide3","quoteBox3");
renderQuotes("slide4","quoteBox4");

/* =========================================================
   ðŸŽ¯ SLIDE NAV
========================================================= */
const wrapper=document.getElementById("slidesWrapper");
document.getElementById("nextBtn").onclick=()=>{wrapper.style.transform="translateX(-100vw)";}
document.getElementById("backBtn").onclick=()=>{wrapper.style.transform="translateX(0vw)";}
document.getElementById("nextBtn2").onclick=()=>{wrapper.style.transform="translateX(-200vw)";}
document.getElementById("backBtn3").onclick=()=>{wrapper.style.transform="translateX(-100vw)";}
document.getElementById("nextBtn3").onclick=()=>{wrapper.style.transform="translateX(-300vw)";}
document.getElementById("backBtn4").onclick=()=>{wrapper.style.transform="translateX(-200vw)";}

</script>
</body>
</html>
