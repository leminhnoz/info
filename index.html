<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8">
<title>Hi + Age Counter</title>
<style>
  body{
    font-family:sans-serif;
    background:#0f1724;
    color:#e6eef8;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    height:100vh;
  }
  .line{
    font-size:24px;
    margin:10px 0;
    white-space:pre-wrap;
  }
  .cursor{
    display:inline-block;
    width:8px;
    background:#60a5fa;
    animation:blink 1s steps(2,start) infinite;
  }
  @keyframes blink{50%{opacity:0}}
</style>
</head>
<body>

<div class="line" id="line1"></div><div class="cursor"></div>
<div class="line" id="line2"></div><div class="cursor"></div>

<script>
const text1 = "Hi ! My full name is Nguyen Duc Le Minh in Vietnamese";
const text2Prefix = "My age: ";
const line1 = document.getElementById("line1");
const line2 = document.getElementById("line2");

const TYPE_SPEED = 40;

function typeText(element, text){
  return new Promise(resolve=>{
    let i=0;
    function step(){
      if(i<=text.length){
        element.textContent = text.slice(0,i);
        i++;
        setTimeout(step, TYPE_SPEED);
      } else resolve();
    }
    step();
  });
}

// ---- Age counter ----
const origin = new Date(2011,1,2,0,0,0,0); // 02/02/2011
function pad(n,len=2){return String(n).padStart(len,'0');}

function computeAgeComponents(start, now){
  let years=0, months=0;
  let cursor=new Date(start);
  while(new Date(cursor.getFullYear()+1,cursor.getMonth(),cursor.getDate())<=now){
    cursor.setFullYear(cursor.getFullYear()+1);
    years++;
  }
  while(new Date(cursor.getFullYear(),cursor.getMonth()+1,cursor.getDate())<=now){
    cursor.setMonth(cursor.getMonth()+1);
    months++;
  }
  let remaining = now - cursor;
  const ms = remaining%1000;
  remaining=Math.floor(remaining/1000);
  const seconds=remaining%60;
  remaining=Math.floor(remaining/60);
  const minutes=remaining%60;
  remaining=Math.floor(remaining/60);
  const hours=remaining%24;
  const days=Math.floor((now - new Date(cursor.getFullYear(),cursor.getMonth(),cursor.getDate()))/(24*3600*1000));
  return {years,months,days,hours,minutes,seconds,ms};
}

function startAgeCounter(){
  const displayLine=document.getElementById("line2");
  function tick(){
    const now = new Date();
    const c=computeAgeComponents(origin,now);
    const timePart=`${c.hours}:${pad(c.minutes)}:${pad(c.seconds)}.${String(c.ms).padStart(3,'0')}`;
    displayLine.textContent=text2Prefix+`${c.years} years ${c.months} months ${c.days} days ${timePart}`;
    requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);
}

// ---- Kickoff ----
(async function(){
  await typeText(line1,text1);
  await typeText(line2,text2Prefix);
  startAgeCounter();
})();
</script>

</body>
</html>
